void moveTo(double targetPos, double &robotPos, double &couchPos)
{
    const double APPROACH_TOLERANCE = 2;
    const double FINAL_TOLERANCE = 1;
    const double SAFE_DISTANCE = 120;

    updateRobotPos(robotPos);

    double currentPos = robotPos;

    if (targetPos == couchPos)
    {
        // we are at the snack bar, moving positive direction until couchPos
        // turn towards the couch (180 degrees)
        robotTurn("around", robotPos);
    }

    // start driving
    MotorLeft.spin(forward, SPEED, percent);
    MotorRight.spin(forward, SPEED, percent);
    bool returnedToCouch = false;
    while (std::abs((targetPos - currentPos)) > FINAL_TOLERANCE && !returnedToCouch)
    {
        updateRobotPos(robotPos);
        currentPos = robotPos;

        if (Distance2.objectDistance(mm) < SAFE_DISTANCE)
        {
            MotorLeft.stop();
            MotorRight.stop();

            if (!avoidObstacle()) {
                //return to couch
                moveTo(couchPos, robotPos, couchPos);
                returnedToCouch = true;
            } 
        }
    }

    //arrived at final destination
    MotorLeft.stop(brake);
    MotorRight.stop(brake);
}
